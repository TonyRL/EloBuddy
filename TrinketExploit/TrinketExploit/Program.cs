using System;
using EloBuddy;
using EloBuddy.SDK.Events;
using EloBuddy.SDK.Menu;
using EloBuddy.SDK.Menu.Values;

namespace TrinketExploit
{
    internal static class Program
    {
        private static Menu _menu;

        private static void Main(string[] args)
        {
            Loading.OnLoadingComplete += Loading_OnLoadingComplete;
        }

        private static void Game_OnTick(EventArgs args)
        {
            const int farsight = 3363;
            const int oracle = 3364;

            if (_menu["buyfarsight"].Cast<KeyBind>().CurrentValue)
                Shop.BuyItem(farsight);
            if (_menu["buyoracle"].Cast<KeyBind>().CurrentValue)
                Shop.BuyItem(oracle);
        }

        private static void Loading_OnLoadingComplete(EventArgs args)
        {
            _menu = MainMenu.AddMenu("Trinket Exploit", "trinketexploit");

            _menu.AddGroupLabel("Buy Farsight Alteration");
            _menu.Add("buyfarsight", new KeyBind("Buy!", false, KeyBind.BindTypes.HoldActive, 'U'));
            _menu.AddSeparator();

            _menu.AddGroupLabel("Buy Oracle Alteration");
            _menu.Add("buyoracle", new KeyBind("Buy!", false, KeyBind.BindTypes.HoldActive, 'I'));


            Game.OnTick += Game_OnTick;
        }
    }
}